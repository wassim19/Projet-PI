
{% extends 'base.html.twig' %}
 {%block content %}

     <!doctype html>
     <html lang="en">
     <head>
         <meta charset="UTF-8">
         <script src="{{ asset("https://cdn.jsdelivr.net/npm/chart.js@2.8.0")}}"></script>

         <meta name="viewport"
               content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
         <meta http-equiv="X-UA-Compatible" content="ie=edge">
         <title>Document</title>
     </head>
     <body>

     <div style="width: 75%">
         <canvas id="myChart"></canvas>
     </div>

     {% set nbAcc=0 %}


     {% for f in off %}
         {% if 'nb_dem'== f %}
             {% set  nbAcc=nbAcc+1 %}

         {%endif %}

     {% endfor %}

     <script>
         Chart.defaults.global.title.display=true;
     </script>

     <script language="javascript">
         var ctx = document.getElementById('myChart').getContext('2d');
         var chart = new Chart(ctx, {
             // The type of chart we want to create
             type: 'line',

             // The data for our dataset
             data: {
                 labels: ['','informatique','sante', 'droit'],
                 datasets: [{
                     label: 'Nombres Totales des offres: {{off|length}}',
                     backgroundColor: 'rgb(255, 99, 132)',
                     borderColor: 'rgb(255, 99, 101)',
                     data: [0,{{nbAcc}}]
                 }]
             },

             // Configuration options go here
             options: {
                 title:{

                     text:"Listes des offres  "
                 }

             }
         });
     </script>




     </body>
     </html>
 {% endblock %}